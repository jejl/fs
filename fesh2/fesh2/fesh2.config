# Fesh2 configuration
# This will need adjustment for your station(s).
#
# -------------------------------------------------------------------------------------------------
# Field System directories
# This section will only need adjusting if you have a non-standard location for your Field System
[FS]
  # Field system top directory
  fs_dir = /usr2/fs
  # Station-specific FS directory
  st_dir = /usr2/st
  # Schedule directory (including Master file)
  sched_dir = /usr2/sched
  # Procedure file directory
  proc_dir = /usr2/proc
  # Log directory
  log_dir = /usr2/log
#
# -------------------------------------------------------------------------------------------------
# Default settings for this station/facility
[Station]
  # station name(s) to process by default. Comma separated two-letter codes. e.g.:
  # stations = Hb, Ho, Ke, Yg
  stations =  Hb, Ke, Yg, Ho
  # -----------------------------------------------------------------------------------------------
  # Which master files should be processed? At least one of these must be selected
  # Get the main Multi-Agency schedule, i.e. mostly 24h sessions
  GetMaster = True
  # Get the Multi-Agency Intensives schedule
  GetMasterIntensive = True
  # -----------------------------------------------------------------------------------------------
  # What schedule file formats should be obtained? This is a prioritised list with the highest one first
  # use the file name suffix (vex and/or skd) and comma-separated.
  # For example:
  #   SchedTypes = vex, skd
  # This will look for vex and skd versions of the schedule but prioritise vex over skd if a vex file is available.
  SchedTypes = skd
  # -----------------------------------------------------------------------------------------------
  # Frequency of server file checks
  # Here you can specify how often checks are made for Master and Schedule files. When fesh2 goes into it's
  # wait state, it will wait for the minimum of these two quantities before making another check.
  #
  # What is the minimum time between checks for a new Master file on the server (hours)?
  # If the time since the last check is less than this, no check will be attempted.
  MasterCheckTime = 12
  # What is the minimum time between checks for a new Schedule (SKD or VEX) file on the server (hours)?
  # If the time since the last check is less than this, no check will be attempted.
  ScheduleCheckTime = 1
  # -----------------------------------------------------------------------------------------------
  # How far ahead in time should we look for schedule files (days)?
  # Fesh2 won't look in the Master file for sessions any further ahead than this number of days
  LookAheadTimeDays = 14
#
# -------------------------------------------------------------------------------------------------
# Which schedule file servers to use
[Servers]
  # Schedule file server URLs. Each of these will be checked for the most recent files.
  # Use comma-separated URLs and specify the top directory (i.e. the 'vlbi' directory).
  # Use protocols https (secure HTTP) or ftp (anonymous FTP) or ftps (secure (SSL) anonymous FTP)
  URL = https://cddis.nasa.gov/archive/vlbi, ftp://ivs.bkg.bund.de/pub/vlbi, ftp://ivsopar.obspm.fr/pub/vlbi
  # Alternative CDDIS (anonymous secure FTP):
  # URL = ftps://cddis.nasa.gov/archive/vlbi
#
# -------------------------------------------------------------------------------------------------
# Fesh2 uses curl to access files on the servers. If https is being used, then the .netrc and .urs_cookies files
# are required. If you don't intend to use https then place empty files in these locations
[Curl]
  # curl configuration files.
  # netrc file (curl puts this in ~/.netrc by default)
  netrc_file = /usr2/control/netrc
  # curl cookie file (curl puts this in ~/.urs_cookies by default)
  cookie_file = /usr2/control/urs_cookies

#
# -------------------------------------------------------------------------------------------------
# Drudg
# After finding and downloading a new or updated schedule, Fesh2 can optionally run Drudg to produce
# new snp, prc and lst files
[Drudg]
  # Run drudg on downloaded schedules? If False then files are downloaded but not processed
  do_drudg = True
  # Where the Drudg executable lives
  binary = ${FS:fs_dir}/bin/drudg
  # Directory for the output LST (schedule summary) file
  lst_dir = ${FS:sched_dir}
  #-------------------------------------------------------------------------------------------------
  # Automation of user input in Drudg.
  # /usr2/control/skedf.ctl contains some options to prompt the user in some cases. These need to be
  # automated in fesh2.
  #
  # 1. TPI period in centiseconds
  #    0 = don't use the TPI daemon (default)
  tpi_period = 0
  #  2. Continuous cal option. Either "on" or "off". Default is 'off'
  cont_cal_action = off
  # 3. If continuous cal is in use, what is the polarity? Options are 0-3 or "none". Default is none
  cont_cal_polarity = none
  # 4. For PFB DBBCs only, vsi_align setup
  #    Applicable only for PFB DBBCs,
  #    none = never use dbbc=vsi_align=... (default)
  #    0 = always use dbbc=vsi_align=0
  #    1 = always use dbbc=vsi_align=1
  vsi_align = none
  #-------------------------------------------------------------------------------------------------
